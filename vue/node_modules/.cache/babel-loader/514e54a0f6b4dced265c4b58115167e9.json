{"remainingRequest":"D:\\source\\book-lms\\vue\\node_modules\\babel-loader\\lib\\index.js!D:\\source\\book-lms\\vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\source\\book-lms\\vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\source\\book-lms\\vue\\src\\views\\Dashboard.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\source\\book-lms\\vue\\src\\views\\Dashboard.vue","mtime":1715489213498},{"path":"D:\\source\\book-lms\\vue\\babel.config.js","mtime":1715489213412},{"path":"D:\\source\\book-lms\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\source\\book-lms\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\source\\book-lms\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\source\\book-lms\\vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICogYXMgZWNoYXJ0cyBmcm9tICdlY2hhcnRzJzsKaW1wb3J0IHsgRWxNZXNzYWdlIH0gZnJvbSAiZWxlbWVudC1wbHVzIjsKaW1wb3J0IHJlcXVlc3QgZnJvbSAiLi4vdXRpbHMvcmVxdWVzdCI7CmltcG9ydCByb3V0ZXIgZnJvbSAiQC9yb3V0ZXIiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNhcmRzOiBbewogICAgICAgIHRpdGxlOiAn5bey5YCf6ZiFJywKICAgICAgICBkYXRhOiAxMDAsCiAgICAgICAgaWNvbjogJyNpY29ubGVuZC1yZWNvcmQtcHJvJwogICAgICB9LCB7CiAgICAgICAgdGl0bGU6ICfmgLvorr/pl64nLAogICAgICAgIGRhdGE6IDEwMCwKICAgICAgICBpY29uOiAnI2ljb252aXNpdCcKICAgICAgfSwgewogICAgICAgIHRpdGxlOiAn5Zu+5Lmm5pWwJywKICAgICAgICBkYXRhOiAxMDAsCiAgICAgICAgaWNvbjogJyNpY29uYm9vay1wcm8nCiAgICAgIH0sIHsKICAgICAgICB0aXRsZTogJ+eUqOaIt+aVsCcsCiAgICAgICAgZGF0YTogMTAwMCwKICAgICAgICBpY29uOiAnI2ljb25wb3B1bGF0aW9uJwogICAgICB9XSwKICAgICAgZGF0YToge30KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIHVzZXJKc29uID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgidXNlciIpOwoKICAgIGlmICghdXNlckpzb24pIHsKICAgICAgcm91dGVyLnB1c2goIi9sb2dpbiIpOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdGhpcy5jaXJjbGVUaW1lcigpOwogICAgcmVxdWVzdC5nZXQoIi9kYXNoYm9hcmQiKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgaWYgKHJlcy5jb2RlID09IDApIHsKICAgICAgICBfdGhpcy5jYXJkc1swXS5kYXRhID0gcmVzLmRhdGEubGVuZFJlY29yZENvdW50OwogICAgICAgIF90aGlzLmNhcmRzWzFdLmRhdGEgPSByZXMuZGF0YS52aXNpdENvdW50OwogICAgICAgIF90aGlzLmNhcmRzWzJdLmRhdGEgPSByZXMuZGF0YS5ib29rQ291bnQ7CiAgICAgICAgX3RoaXMuY2FyZHNbM10uZGF0YSA9IHJlcy5kYXRhLnVzZXJDb3VudDsKICAgICAgfSBlbHNlIHsKICAgICAgICBFbE1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgIH0gLy8g5Z+65LqO5YeG5aSH5aW955qEZG9t77yM5Yid5aeL5YyWZWNoYXJ0c+WunuS+iwoKCiAgICAgIHZhciBteUNoYXJ0ID0gZWNoYXJ0cy5pbml0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYWluJykpOwogICAgICBjb25zb2xlLmxvZyhfdGhpcy5jYXJkc1swXS5kYXRhKTsgLy8g57uY5Yi25Zu+6KGoCgogICAgICBteUNoYXJ0LnNldE9wdGlvbih7CiAgICAgICAgdGl0bGU6IHsKICAgICAgICAgIHRleHQ6ICfnu5/orqEnCiAgICAgICAgfSwKICAgICAgICB0b29sdGlwOiB7CiAgICAgICAgICB0cmlnZ2VyOiAnYXhpcycgLy8gYXhpc1BvaW50ZXI6IHsKICAgICAgICAgIC8vICAgdHlwZTogJ3NoYWRvdycgLy8g6buY6K6k5Li655u057q/77yM5Y+v6YCJ5Li677yaJ2xpbmUnIHwgJ3NoYWRvdycKICAgICAgICAgIC8vIH0KCiAgICAgICAgfSwKICAgICAgICBncmlkOiB7CiAgICAgICAgICBsZWZ0OiAnMyUnLAogICAgICAgICAgcmlnaHQ6ICc0JScsCiAgICAgICAgICBib3R0b206ICczJScsCiAgICAgICAgICBjb250YWluTGFiZWw6IHRydWUKICAgICAgICB9LAogICAgICAgIHhBeGlzOiB7CiAgICAgICAgICB0eXBlOiAnY2F0ZWdvcnknLAogICAgICAgICAgZGF0YTogX3RoaXMuY2FyZHMubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgIHJldHVybiBpdGVtLnRpdGxlOwogICAgICAgICAgfSksCiAgICAgICAgICBheGlzVGljazogewogICAgICAgICAgICBhbGlnbldpdGhMYWJlbDogdHJ1ZQogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgeUF4aXM6IHsKICAgICAgICAgIHR5cGU6ICd2YWx1ZScKICAgICAgICB9LAogICAgICAgIHNlcmllczogW3sKICAgICAgICAgIHR5cGU6ICdiYXInLAogICAgICAgICAgbGFiZWw6IHsKICAgICAgICAgICAgc2hvdzogdHJ1ZQogICAgICAgICAgfSwKICAgICAgICAgIGJhcldpZHRoOiAnMjUlJywKICAgICAgICAgIGRhdGE6IFt7CiAgICAgICAgICAgIHZhbHVlOiBfdGhpcy5jYXJkc1swXS5kYXRhLAogICAgICAgICAgICBpdGVtU3R5bGU6IHsKICAgICAgICAgICAgICBjb2xvcjogJyM1NDcwYzYnCiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIHsKICAgICAgICAgICAgdmFsdWU6IF90aGlzLmNhcmRzWzFdLmRhdGEsCiAgICAgICAgICAgIGl0ZW1TdHlsZTogewogICAgICAgICAgICAgIGNvbG9yOiAnIzkxY2M3NScKICAgICAgICAgICAgfQogICAgICAgICAgfSwgewogICAgICAgICAgICB2YWx1ZTogX3RoaXMuY2FyZHNbMl0uZGF0YSwKICAgICAgICAgICAgaXRlbVN0eWxlOiB7CiAgICAgICAgICAgICAgY29sb3I6ICcjZmFjODU4JwogICAgICAgICAgICB9CiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIHZhbHVlOiBfdGhpcy5jYXJkc1szXS5kYXRhLAogICAgICAgICAgICBpdGVtU3R5bGU6IHsKICAgICAgICAgICAgICBjb2xvcjogJyNlZTY2NjYnCiAgICAgICAgICAgIH0KICAgICAgICAgIH1dCiAgICAgICAgfV0KICAgICAgfSk7CiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgbXlDaGFydC5yZXNpemUoKTsKICAgICAgfSk7CiAgICB9KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGNpcmNsZVRpbWVyOiBmdW5jdGlvbiBjaXJjbGVUaW1lcigpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLmdldFRpbWVyKCk7CiAgICAgIHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczIuZ2V0VGltZXIoKTsKICAgICAgfSwgMTAwMCk7CiAgICB9LAogICAgZ2V0VGltZXI6IGZ1bmN0aW9uIGdldFRpbWVyKCkgewogICAgICB2YXIgZCA9IG5ldyBEYXRlKCk7CiAgICAgIHZhciB0ID0gZC50b0xvY2FsZVN0cmluZygpOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbXlUaW1lcicpLmlubmVySFRNTCA9IHQ7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["D:\\source\\book-lms\\vue\\src\\views\\Dashboard.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div>\r\n    <el-row :gutter=\"20\">\r\n      <el-col :span=\"6\" v-for=\"item in cards\" :key=\"item.title\">\r\n        <el-card class=\"box-card\">\r\n          <div slot=\"header\" class=\"clearfix\">{{ item.title }}</div>\r\n          <div class=\"text item\">\r\n            <svg class=\"icon\" aria-hidden=\"true\">\r\n              <use :xlink:href=\"item.icon\" style=\"width: 100px\"></use>\r\n            </svg>\r\n            <span class=\"text\">{{ item.data }}</span>\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n    </el-row>\r\n    <div id=\"myTimer\" style=\"margin-left: 15px;font-weight: 550;\"></div>\r\n    <!-- 为 ECharts 准备一个具备大小（宽高）的 DOM -->\r\n    <div id=\"main\" style=\"margin-left: 5px\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport * as echarts from 'echarts'\r\nimport {ElMessage} from \"element-plus\";\r\nimport request from \"../utils/request\";\r\nimport router from \"@/router\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      cards: [\r\n        { title: '已借阅', data: 100, icon: '#iconlend-record-pro' },\r\n        { title: '总访问', data: 100, icon: '#iconvisit'   },\r\n        { title: '图书数', data: 100, icon: '#iconbook-pro' },\r\n        { title: '用户数', data: 1000, icon: '#iconpopulation' }\r\n      ],\r\n      data:{}\r\n    }\r\n  },\r\n  created() {\r\n    let userJson = sessionStorage.getItem(\"user\")\r\n    if(!userJson)\r\n    {\r\n      router.push(\"/login\")\r\n    }\r\n  },\r\n  mounted() {\r\n    this.circleTimer()\r\n\r\n    request.get(\"/dashboard\").then(res=>{\r\n      if(res.code == 0)\r\n      {\r\n\r\n        this.cards[0].data = res.data.lendRecordCount\r\n        this.cards[1].data = res.data.visitCount\r\n        this.cards[2].data = res.data.bookCount\r\n        this.cards[3].data = res.data.userCount\r\n\r\n      }\r\n      else\r\n      {\r\n        ElMessage.error(res.msg)\r\n      }\r\n\r\n\r\n      // 基于准备好的dom，初始化echarts实例\r\n      var myChart = echarts.init(document.getElementById('main'))\r\n    console.log(this.cards[0].data)\r\n      // 绘制图表\r\n      myChart.setOption({\r\n        title: {\r\n          text: '统计'\r\n        },\r\n        tooltip: {\r\n          trigger: 'axis'\r\n          // axisPointer: {\r\n          //   type: 'shadow' // 默认为直线，可选为：'line' | 'shadow'\r\n          // }\r\n        },\r\n        grid: {\r\n          left: '3%',\r\n          right: '4%',\r\n          bottom: '3%',\r\n          containLabel: true\r\n        },\r\n        xAxis: {\r\n          type: 'category',\r\n          data: this.cards.map(item => item.title),\r\n          axisTick: {\r\n            alignWithLabel: true\r\n          }\r\n        },\r\n        yAxis: {\r\n          type: 'value'\r\n        },\r\n        series: [\r\n          {\r\n            type: 'bar',\r\n            label: { show: true },\r\n            barWidth: '25%',\r\n            data: [\r\n              {\r\n                value: this.cards[0].data,\r\n                itemStyle: { color: '#5470c6' }\r\n              },\r\n              {\r\n                value: this.cards[1].data,\r\n                itemStyle: { color: '#91cc75' }\r\n              },\r\n              {\r\n                value: this.cards[2].data,\r\n                itemStyle: { color: '#fac858' }\r\n              },\r\n              {\r\n                value: this.cards[3].data,\r\n                itemStyle: { color: '#ee6666' }\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      })\r\n      window.addEventListener('resize', () => {\r\n        myChart.resize()\r\n      })\r\n    })\r\n  },\r\n  methods: {\r\n    circleTimer() {\r\n      this.getTimer()\r\n      setInterval(() => {\r\n        this.getTimer()\r\n      }, 1000)\r\n    },\r\n    getTimer() {\r\n      var d = new Date()\r\n      var t = d.toLocaleString()\r\n      document.getElementById('myTimer').innerHTML = t\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.box-card {\r\n   width: 80%;\r\n  margin-bottom: 25px;\r\n  margin-left: 10px;\r\n}\r\n\r\n.clearfix {\r\n  text-align: center;\r\n  font-size: 15px;\r\n}\r\n\r\n.text {\r\n  text-align: center;\r\n  font-size: 24px;\r\n  font-weight: 700;\r\n  vertical-align: super;\r\n}\r\n\r\n#main {\r\n  width: 100%;\r\n  height: 450px;\r\n  margin-top: 20px;\r\n}\r\n\r\n.icon {\r\n  width: 50px;\r\n  height: 50px;\r\n  padding-top: 5px;\r\n  padding-right: 10px;\r\n}\r\n</style>"],"sourceRoot":""}]}