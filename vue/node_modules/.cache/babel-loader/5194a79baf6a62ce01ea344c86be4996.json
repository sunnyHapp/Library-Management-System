{"remainingRequest":"D:\\source\\book-lms\\vue\\node_modules\\babel-loader\\lib\\index.js!D:\\source\\book-lms\\vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!D:\\source\\book-lms\\vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\source\\book-lms\\vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\source\\book-lms\\vue\\src\\views\\Dashboard.vue?vue&type=template&id=22ba47ca&scoped=true","dependencies":[{"path":"D:\\source\\book-lms\\vue\\src\\views\\Dashboard.vue","mtime":1715489213498},{"path":"D:\\source\\book-lms\\vue\\babel.config.js","mtime":1715489213412},{"path":"D:\\source\\book-lms\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\source\\book-lms\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\source\\book-lms\\vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":499162500000},{"path":"D:\\source\\book-lms\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\source\\book-lms\\vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVuZGVyTGlzdCBhcyBfcmVuZGVyTGlzdCwgRnJhZ21lbnQgYXMgX0ZyYWdtZW50LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2ssIHRvRGlzcGxheVN0cmluZyBhcyBfdG9EaXNwbGF5U3RyaW5nLCBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZSwgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgd2l0aEN0eCBhcyBfd2l0aEN0eCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCBjcmVhdGVCbG9jayBhcyBfY3JlYXRlQmxvY2ssIGNyZWF0ZUNvbW1lbnRWTm9kZSBhcyBfY3JlYXRlQ29tbWVudFZOb2RlLCBwdXNoU2NvcGVJZCBhcyBfcHVzaFNjb3BlSWQsIHBvcFNjb3BlSWQgYXMgX3BvcFNjb3BlSWQgfSBmcm9tICJ2dWUiOwoKdmFyIF93aXRoU2NvcGVJZCA9IGZ1bmN0aW9uIF93aXRoU2NvcGVJZChuKSB7CiAgcmV0dXJuIF9wdXNoU2NvcGVJZCgiZGF0YS12LTIyYmE0N2NhIiksIG4gPSBuKCksIF9wb3BTY29wZUlkKCksIG47Cn07Cgp2YXIgX2hvaXN0ZWRfMSA9IHsKICBzbG90OiAiaGVhZGVyIiwKICBjbGFzczogImNsZWFyZml4Igp9Owp2YXIgX2hvaXN0ZWRfMiA9IHsKICBjbGFzczogInRleHQgaXRlbSIKfTsKdmFyIF9ob2lzdGVkXzMgPSB7CiAgY2xhc3M6ICJpY29uIiwKICAiYXJpYS1oaWRkZW4iOiAidHJ1ZSIKfTsKdmFyIF9ob2lzdGVkXzQgPSBbInhsaW5rOmhyZWYiXTsKdmFyIF9ob2lzdGVkXzUgPSB7CiAgY2xhc3M6ICJ0ZXh0Igp9OwoKdmFyIF9ob2lzdGVkXzYgPSAvKiNfX1BVUkVfXyovX3dpdGhTY29wZUlkKGZ1bmN0aW9uICgpIHsKICByZXR1cm4gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHsKICAgIGlkOiAibXlUaW1lciIsCiAgICBzdHlsZTogewogICAgICAibWFyZ2luLWxlZnQiOiAiMTVweCIsCiAgICAgICJmb250LXdlaWdodCI6ICI1NTAiCiAgICB9CiAgfSwgbnVsbCwgLTEKICAvKiBIT0lTVEVEICovCiAgKTsKfSk7Cgp2YXIgX2hvaXN0ZWRfNyA9IC8qI19fUFVSRV9fKi9fd2l0aFNjb3BlSWQoZnVuY3Rpb24gKCkgewogIHJldHVybiAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgewogICAgaWQ6ICJtYWluIiwKICAgIHN0eWxlOiB7CiAgICAgICJtYXJnaW4tbGVmdCI6ICI1cHgiCiAgICB9CiAgfSwgbnVsbCwgLTEKICAvKiBIT0lTVEVEICovCiAgKTsKfSk7CgpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHZhciBfY29tcG9uZW50X2VsX2NhcmQgPSBfcmVzb2x2ZUNvbXBvbmVudCgiZWwtY2FyZCIpOwoKICB2YXIgX2NvbXBvbmVudF9lbF9jb2wgPSBfcmVzb2x2ZUNvbXBvbmVudCgiZWwtY29sIik7CgogIHZhciBfY29tcG9uZW50X2VsX3JvdyA9IF9yZXNvbHZlQ29tcG9uZW50KCJlbC1yb3ciKTsKCiAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgbnVsbCwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX3JvdywgewogICAgZ3V0dGVyOiAyMAogIH0sIHsKICAgIGRlZmF1bHQ6IF93aXRoQ3R4KGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIFsoX29wZW5CbG9jayh0cnVlKSwgX2NyZWF0ZUVsZW1lbnRCbG9jayhfRnJhZ21lbnQsIG51bGwsIF9yZW5kZXJMaXN0KCRkYXRhLmNhcmRzLCBmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jayhfY29tcG9uZW50X2VsX2NvbCwgewogICAgICAgICAgc3BhbjogNiwKICAgICAgICAgIGtleTogaXRlbS50aXRsZQogICAgICAgIH0sIHsKICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9jYXJkLCB7CiAgICAgICAgICAgICAgY2xhc3M6ICJib3gtY2FyZCIKICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHJldHVybiBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMSwgX3RvRGlzcGxheVN0cmluZyhpdGVtLnRpdGxlKSwgMQogICAgICAgICAgICAgICAgLyogVEVYVCAqLwogICAgICAgICAgICAgICAgKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMiwgWyhfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soInN2ZyIsIF9ob2lzdGVkXzMsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJ1c2UiLCB7CiAgICAgICAgICAgICAgICAgICJ4bGluazpocmVmIjogaXRlbS5pY29uLAogICAgICAgICAgICAgICAgICBzdHlsZTogewogICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICIxMDBweCIKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwgbnVsbCwgOAogICAgICAgICAgICAgICAgLyogUFJPUFMgKi8KICAgICAgICAgICAgICAgICwgX2hvaXN0ZWRfNCldKSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCBfaG9pc3RlZF81LCBfdG9EaXNwbGF5U3RyaW5nKGl0ZW0uZGF0YSksIDEKICAgICAgICAgICAgICAgIC8qIFRFWFQgKi8KICAgICAgICAgICAgICAgICldKV07CiAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgXzogMgogICAgICAgICAgICAgIC8qIERZTkFNSUMgKi8KCiAgICAgICAgICAgIH0sIDEwMjQKICAgICAgICAgICAgLyogRFlOQU1JQ19TTE9UUyAqLwogICAgICAgICAgICApXTsKICAgICAgICAgIH0pLAogICAgICAgICAgXzogMgogICAgICAgICAgLyogRFlOQU1JQyAqLwoKICAgICAgICB9LCAxMDI0CiAgICAgICAgLyogRFlOQU1JQ19TTE9UUyAqLwogICAgICAgICk7CiAgICAgIH0pLCAxMjgKICAgICAgLyogS0VZRURfRlJBR01FTlQgKi8KICAgICAgKSldOwogICAgfSksCiAgICBfOiAxCiAgICAvKiBTVEFCTEUgKi8KCiAgfSksIF9ob2lzdGVkXzYsIF9jcmVhdGVDb21tZW50Vk5vZGUoIiDkuLogRUNoYXJ0cyDlh4blpIfkuIDkuKrlhbflpIflpKflsI/vvIjlrr3pq5jvvInnmoQgRE9NICIpLCBfaG9pc3RlZF83XSk7Cn0="},{"version":3,"sources":["D:\\source\\book-lms\\vue\\src\\views\\Dashboard.vue"],"names":[],"mappings":";;;;;;;AAKe,EAAA,IAAI,EAAC,Q;AAAS,EAAA,KAAK,EAAC;;;AACpB,EAAA,KAAK,EAAC;;;AACJ,EAAA,KAAK,EAAC,M;AAAO,iBAAY;;;;AAGxB,EAAA,KAAK,EAAC;;;;sBAKpB,mBAAA,CAAoE,KAApE,EAAoE;AAA/D,IAAA,EAAE,EAAC,SAA4D;AAAlD,IAAA,KAA2C,EAA3C;AAAA,qBAAA,MAAA;AAAA,qBAAA;AAAA;AAAkD,GAApE,E,IAAA,E;;AAAA,G;;;;sBAEA,mBAAA,CAA8C,KAA9C,EAA8C;AAAzC,IAAA,EAAE,EAAC,MAAsC;AAA/B,IAAA,KAAwB,EAAxB;AAAA,qBAAA;AAAA;AAA+B,GAA9C,E,IAAA,E;;AAAA,G;;;;;;;;;;uBAhBF,mBAAA,CAiBM,KAjBN,EAiBM,IAjBN,EAiBM,CAhBJ,YAAA,CAYS,iBAZT,EAYS;AAZA,IAAA,MAAM,EAAE;AAYR,GAZT,EAAmB;sBACC;AAAA,aAAqB,E,kBAAvC,mBAAA,CAUS,SAVT,EAUS,IAVT,EAUS,WAAA,CAVwB,KAAA,CAAA,KAUxB,EAV6B,UAAb,IAAa,EAAT;6BAA7B,YAAA,CAUS,iBAVT,EAUS;AAVA,UAAA,IAAI,EAAE,CAUN;AAVgC,UAAA,GAAG,EAAE,IAAI,CAAC;AAU1C,SAVT,E;4BACE;AAAA,mBAQU,CARV,YAAA,CAQU,kBARV,EAQU;AARD,cAAA,KAAK,EAAC;AAQL,aARV,EAAyB;gCACvB;AAAA,uBAA0D,CAA1D,mBAAA,CAA0D,KAA1D,EAAA,UAAA,EAA0D,gBAAA,CAAnB,IAAI,CAAC,KAAc,CAA1D,EAAiD;AAAA;AAAjD,iBAA0D,EAC1D,mBAAA,CAKM,KALN,EAAA,UAAA,EAKM,E,cAJJ,mBAAA,CAEM,KAFN,EAAA,UAAA,EAEM,CADJ,mBAAA,CAAwD,KAAxD,EAAwD;AAAlD,gCAAY,IAAI,CAAC,IAAiC;AAA3B,kBAAA,KAAoB,EAApB;AAAA,6BAAA;AAAA;AAA2B,iBAAxD,E,IAAA,E;;AAAA,kB,UAAA,CACI,CAFN,CAII,GADJ,mBAAA,CAAyC,MAAzC,EAAA,UAAA,EAAyC,gBAAA,CAAnB,IAAI,CAAC,IAAc,CAAzC,EAA+B;AAAA;AAA/B,iBACI,CALN,CAD0D,CAA1D;AAAA,e,CADuB;;;;AAAA,aAAzB,E;;AAAA,aAQU,CARV;AAAA,W;;;;SADF,E;;AAAA,S;OAUS,CAVT,E;;AAAA,OAAuC,EAArB;AAAA,K,CADD;;;;AAAA,GAAnB,CAgBI,EAHJ,UAGI,EAFJ,mBAAA,CAAA,+BAAA,CAEI,EADJ,UACI,CAjBN,C","sourcesContent":["<template>\r\n  <div>\r\n    <el-row :gutter=\"20\">\r\n      <el-col :span=\"6\" v-for=\"item in cards\" :key=\"item.title\">\r\n        <el-card class=\"box-card\">\r\n          <div slot=\"header\" class=\"clearfix\">{{ item.title }}</div>\r\n          <div class=\"text item\">\r\n            <svg class=\"icon\" aria-hidden=\"true\">\r\n              <use :xlink:href=\"item.icon\" style=\"width: 100px\"></use>\r\n            </svg>\r\n            <span class=\"text\">{{ item.data }}</span>\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n    </el-row>\r\n    <div id=\"myTimer\" style=\"margin-left: 15px;font-weight: 550;\"></div>\r\n    <!-- 为 ECharts 准备一个具备大小（宽高）的 DOM -->\r\n    <div id=\"main\" style=\"margin-left: 5px\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport * as echarts from 'echarts'\r\nimport {ElMessage} from \"element-plus\";\r\nimport request from \"../utils/request\";\r\nimport router from \"@/router\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      cards: [\r\n        { title: '已借阅', data: 100, icon: '#iconlend-record-pro' },\r\n        { title: '总访问', data: 100, icon: '#iconvisit'   },\r\n        { title: '图书数', data: 100, icon: '#iconbook-pro' },\r\n        { title: '用户数', data: 1000, icon: '#iconpopulation' }\r\n      ],\r\n      data:{}\r\n    }\r\n  },\r\n  created() {\r\n    let userJson = sessionStorage.getItem(\"user\")\r\n    if(!userJson)\r\n    {\r\n      router.push(\"/login\")\r\n    }\r\n  },\r\n  mounted() {\r\n    this.circleTimer()\r\n\r\n    request.get(\"/dashboard\").then(res=>{\r\n      if(res.code == 0)\r\n      {\r\n\r\n        this.cards[0].data = res.data.lendRecordCount\r\n        this.cards[1].data = res.data.visitCount\r\n        this.cards[2].data = res.data.bookCount\r\n        this.cards[3].data = res.data.userCount\r\n\r\n      }\r\n      else\r\n      {\r\n        ElMessage.error(res.msg)\r\n      }\r\n\r\n\r\n      // 基于准备好的dom，初始化echarts实例\r\n      var myChart = echarts.init(document.getElementById('main'))\r\n    console.log(this.cards[0].data)\r\n      // 绘制图表\r\n      myChart.setOption({\r\n        title: {\r\n          text: '统计'\r\n        },\r\n        tooltip: {\r\n          trigger: 'axis'\r\n          // axisPointer: {\r\n          //   type: 'shadow' // 默认为直线，可选为：'line' | 'shadow'\r\n          // }\r\n        },\r\n        grid: {\r\n          left: '3%',\r\n          right: '4%',\r\n          bottom: '3%',\r\n          containLabel: true\r\n        },\r\n        xAxis: {\r\n          type: 'category',\r\n          data: this.cards.map(item => item.title),\r\n          axisTick: {\r\n            alignWithLabel: true\r\n          }\r\n        },\r\n        yAxis: {\r\n          type: 'value'\r\n        },\r\n        series: [\r\n          {\r\n            type: 'bar',\r\n            label: { show: true },\r\n            barWidth: '25%',\r\n            data: [\r\n              {\r\n                value: this.cards[0].data,\r\n                itemStyle: { color: '#5470c6' }\r\n              },\r\n              {\r\n                value: this.cards[1].data,\r\n                itemStyle: { color: '#91cc75' }\r\n              },\r\n              {\r\n                value: this.cards[2].data,\r\n                itemStyle: { color: '#fac858' }\r\n              },\r\n              {\r\n                value: this.cards[3].data,\r\n                itemStyle: { color: '#ee6666' }\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      })\r\n      window.addEventListener('resize', () => {\r\n        myChart.resize()\r\n      })\r\n    })\r\n  },\r\n  methods: {\r\n    circleTimer() {\r\n      this.getTimer()\r\n      setInterval(() => {\r\n        this.getTimer()\r\n      }, 1000)\r\n    },\r\n    getTimer() {\r\n      var d = new Date()\r\n      var t = d.toLocaleString()\r\n      document.getElementById('myTimer').innerHTML = t\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.box-card {\r\n   width: 80%;\r\n  margin-bottom: 25px;\r\n  margin-left: 10px;\r\n}\r\n\r\n.clearfix {\r\n  text-align: center;\r\n  font-size: 15px;\r\n}\r\n\r\n.text {\r\n  text-align: center;\r\n  font-size: 24px;\r\n  font-weight: 700;\r\n  vertical-align: super;\r\n}\r\n\r\n#main {\r\n  width: 100%;\r\n  height: 450px;\r\n  margin-top: 20px;\r\n}\r\n\r\n.icon {\r\n  width: 50px;\r\n  height: 50px;\r\n  padding-top: 5px;\r\n  padding-right: 10px;\r\n}\r\n</style>"],"sourceRoot":""}]}